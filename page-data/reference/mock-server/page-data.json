{"componentChunkName":"component---node-modules-availity-gatsby-theme-docs-src-index-js","path":"/reference/mock-server/","result":{"data":{"site":{"siteMetadata":{"title":"Availity Docs","subtitle":"Availity Workflow","description":"Documentation for Availity Workflow"}},"file":{"childMarkdownRemark":{"frontmatter":{"title":"Reference: Mock Server","summary":null},"headings":[{"value":"Intro","depth":2},{"value":"Route Matching","depth":2},{"value":"Configuration","depth":2},{"value":"Standalone Server","depth":3},{"value":"Express Middleware","depth":3},{"value":"Options","depth":2},{"value":"Route Configuration Examples","depth":2},{"value":"Simple","depth":3},{"value":"Status Code","depth":3},{"value":"POST with Default Response","depth":3},{"value":"CRUD","depth":3},{"value":"CRUD using objects","depth":3},{"value":"Query Params with Arrays and Regexes","depth":3},{"value":"POST Params","depth":3},{"value":"Multipart","depth":3},{"value":"Async Responses","depth":3},{"value":"Async Responses with Repeat Option","depth":3},{"value":"Match Headers","depth":3},{"value":"Url Redirect","depth":3},{"value":"Acknowledgements","depth":2}],"htmlAst":{"type":"root","children":[{"type":"element","tagName":"h2","properties":{"id":"intro"},"children":[{"type":"element","tagName":"a","properties":{"href":"#intro","ariaLabel":"intro permalink","className":["anchor"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Intro"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Develop web applications without heavy back-end services by running Express middleware or http server which can deliver mock responses."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Responses can be JSON or other formats to simulate REST services. Access-Control HTTP Headers are set by default to allow CORS requests. Mock services are configured in the "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/Availity/availity-workflow/blob/master/packages/mock-data/routes.json"},"children":[{"type":"text","value":"routes.json"}]},{"type":"text","value":" file."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This server can return other file types besides XML or JSON (PDFs, images, etc). The appropriate response headers will be automatically set for different file types. For a complete list of file types supported view the "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/jshttp/mime-db/blob/88d8b0424d93aefef4ef300dc35ad2c8d1e1f9d4/db.json"},"children":[{"type":"text","value":"mime types here"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"route-matching"},"children":[{"type":"element","tagName":"a","properties":{"href":"#route-matching","ariaLabel":"route matching permalink","className":["anchor"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Route Matching"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"avality-mock-server"}]},{"type":"text","value":" is designed to respond with the route configuration that matches the incoming request the closest by introspecting the request body, parameters and headers. "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"avality-mock-server"}]},{"type":"text","value":" calculates which route scores the highest for each request and returns the appropriate mock response."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"configuration"},"children":[{"type":"element","tagName":"a","properties":{"href":"#configuration","ariaLabel":"configuration permalink","className":["anchor"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Configuration"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"standalone-server"},"children":[{"type":"element","tagName":"a","properties":{"href":"#standalone-server","ariaLabel":"standalone server permalink","className":["anchor"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Standalone Server"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The default server configuration can be found in "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/Availity/availity-workflow/blob/master/packages/mock-server/config/index.js"},"children":[{"type":"text","value":"config.js"}]},{"type":"text","value":". Pass a different configuration file to the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"avality-mock-server"}]},{"type":"text","value":" server to override the defaults."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-javascript"]},"children":[{"type":"text","value":"const path = require('path');\nconst MockServer = require('@availity/mock-server');\n\nconst configPath = path.join(__dirname, 'path/to/config.js');\nconst server = new MockServer(configPath);\nserver.start();\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Alternatively, pass options in the start method."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-javascript"]},"children":[{"type":"text","value":"const  = new MockServer();\n.start({\n    data: path.join(__dirname, './data'),\n    routes: path.join(__dirname, './routes'),\n    plugins: ['@availity/mock-data']\n}).then(function() {\n    // server started\n});\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"express-middleware"},"children":[{"type":"element","tagName":"a","properties":{"href":"#express-middleware","ariaLabel":"express middleware permalink","className":["anchor"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Express Middleware"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"const express = require('express');\nconst app = express();\n\n// This is the same as the stand-alone server use.\nconst MockServer = require('@availity/mock-server');\nconst server = new MockServer({/* options */});\n\napp.use(server.middleware(/* options, same as `start` */);\n\napp.listen(3001);\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"options"},"children":[{"type":"element","tagName":"a","properties":{"href":"#options","ariaLabel":"options permalink","className":["anchor"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Options"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"latency"}]},{"type":"text","value":": Global delay for all reponses. The latency can be overridden per route configuration. Default is "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"250ms"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"limit"}]},{"type":"text","value":": Upload max size. Default is "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"50mb"}]},{"type":"text","value":","}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"host"}]},{"type":"text","value":": Server binds and listens for connections on the specified host. Default is "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"0.0.0.0"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"port"}]},{"type":"text","value":": Server binds and listens for connections on the specified port. Default is "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"9999"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"data"}]},{"type":"text","value":": Path to folder that contains the json mock responses."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"routes"}]},{"type":"text","value":": Path(s) to configuration file that contains a mapping of the request/response routes. Multiple paths can be passed in with an array of strings."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"plugins"}]},{"type":"text","value":": Array of NPM module names that enhance "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"@availity/mock-server"}]},{"type":"text","value":" with additional data and routes. @See "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/Availity/@availity/mock-data"},"children":[{"type":"text","value":"@availity/mock-data"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"logProvider"}]},{"type":"text","value":": Function that returns a logger that is used in place of the default logger. Inspired by the log provider in "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/chimurai/http-proxy-middleware"},"children":[{"type":"text","value":"http-proxy-middleware"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"pluginContext"}]},{"type":"text","value":": A url context value which is used to rewrite every instance of "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"${context}"}]},{"type":"text","value":" variable in mock data responses. This can be useful for HATEOS links."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Simple"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"function logProvider(provider) {\n    return require('winston');\n}\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Advanced"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"function logProvider(provider) {\n    var logger = new (require('winston').Logger)();\n\n    var myCustomProvider = {\n        log: logger.log,\n        debug: logger.debug,\n        info: logger.info,\n        warn: logger.warn,\n        error: logger.error\n    };\n    return myCustomProvider;\n}\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"route-configuration-examples"},"children":[{"type":"element","tagName":"a","properties":{"href":"#route-configuration-examples","ariaLabel":"route configuration examples permalink","className":["anchor"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Route Configuration Examples"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"routes.json"}]},{"type":"text","value":" defines the mock responses for rest services. Below are some sample scenarios that should help you understand the configuration options."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The mock configuration supports deep nested introspection of JSON and multi-part form data when matching routes. See Example 6 below."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"simple"},"children":[{"type":"element","tagName":"a","properties":{"href":"#simple","ariaLabel":"simple permalink","className":["anchor"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Simple"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-javascript"]},"children":[{"type":"text","value":"\"v1/route1\": {\n  \"file\": \"example1.json\" // response for GET|PUT|POST|DELETE\n}\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"status-code"},"children":[{"type":"element","tagName":"a","properties":{"href":"#status-code","ariaLabel":"status code permalink","className":["anchor"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Status Code"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-javascript"]},"children":[{"type":"text","value":"\"v1/route2\": {\n  \"latency\": 250, // latency in (ms)\n  \"file\": \"example2.json\", // all GET|PUT|POST|DELETE requests\n  \"status\": 201 // return status code 201\n}\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"post-with-default-response"},"children":[{"type":"element","tagName":"a","properties":{"href":"#post-with-default-response","ariaLabel":"post with default response permalink","className":["anchor"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"POST with Default Response"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-javascript"]},"children":[{"type":"text","value":"\"v1/route3\": {\n  \"file\": \"example3.json\", // GET|PUT|DELETE requests\n  \"post\": \"example1.json\" // POST requests\n}\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"crud"},"children":[{"type":"element","tagName":"a","properties":{"href":"#crud","ariaLabel":"crud permalink","className":["anchor"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"CRUD"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-javascript"]},"children":[{"type":"text","value":"\"v1/route4\": {\n  \"get\": \"example1.json\", // all GET requests\n  \"put\": \"example2.json\", // all PUT requests\n  \"post\": \"example3.json\", // all POST requests\n  \"delete\": \"example4.json\" // all DELETE requests\n}\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"crud-using-objects"},"children":[{"type":"element","tagName":"a","properties":{"href":"#crud-using-objects","ariaLabel":"crud using objects permalink","className":["anchor"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"CRUD using objects"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-javascript"]},"children":[{"type":"text","value":"\"v1/route4\": {\n  \"get\": {// all GET requests\n      \"status\": 204,\n      \"responseHeader\": {\n          \"a\": \"1\",\n          \"b\": \"2\"\n      }\n  },\n  \"put\": {// all PUT requests\n      \"file\": \"example1.json\",\n  },\n  \"post\": \"example3.json\", // all POST requests\n  \"delete\": \"example4.json\" // all DELETE requests\n}\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"query-params-with-arrays-and-regexes"},"children":[{"type":"element","tagName":"a","properties":{"href":"#query-params-with-arrays-and-regexes","ariaLabel":"query params with arrays and regexes permalink","className":["anchor"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Query Params with Arrays and Regexes"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-javascript"]},"children":[{"type":"text","value":"\"v1/route5\": {\n  \"file\": \"example1.json\", // all POST|PUT|DELETE requests\n  \"get\": [\n    {\n      \"file\": \"example2.json\",\n      \"status\": 200, // default status code is 200\n      \"params\": { // GET /v1/router?a=1&b=2&c=3\n        \"a\": \"1\",\n        \"b\": \"2\",\n        \"c\": \"3\"\n      }\n    },\n    {\n      \"file\": \"example3.json\",\n      \"params\": { // GET /v1/router?a=1&a=2&a=3&a=4\n        \"a\": [1, 2, 3, 4]\n      }\n    },\n    {\n      \"file\": \"example4.json\",\n      \"params\": { // Regular expression configruation for matching params\n        \"a\": { // GET /v1/router?a=1 OR /v1/router?a=2 OR /v1/router?a=3\n            pattern: \"1|2|3\",\n            flags: \"i\" // Javascript regex flags to ignore case\n        }\n      }\n    },\n  ]\n}\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"post-params"},"children":[{"type":"element","tagName":"a","properties":{"href":"#post-params","ariaLabel":"post params permalink","className":["anchor"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"POST Params"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-javascript"]},"children":[{"type":"text","value":"\"v1/route6\": {\n  \"file\": \"example1.json\", // all GET|PUT|DELETE requests\n  \"post\": [\n    {\n      \"file\": \"example2.json\",\n      \"params\": { // POST with JSON payload {\"a\": 1}\n        \"a\": 1\n      }\n    },\n    {\n      \"file\": \"example3.json\",\n      \"params\": { // POST with JSON payload {a: {b: {c: \"1\"} } }\n        \"a.b.c\": 1 // nested attributes supported\n      }\n    },\n    {\n      \"file\": \"example4.json\",\n      \"params\": { // POST with JSON payload {a : {b: [0,1,2] } }\n        \"a.b[2]\": 2 // nested array attributes supported\n      }\n    }\n  ]\n},\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"multipart"},"children":[{"type":"element","tagName":"a","properties":{"href":"#multipart","ariaLabel":"multipart permalink","className":["anchor"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Multipart"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-html"]},"children":[{"type":"text","value":"<form action=\"/api/v1/users\" method=\"post\" enctype=\"multipart/form-data\">\n    <p><input type=\"text\" name=\"a\" value=\"example\" /></p>\n    <p>\n        <input type=\"file\" name=\"b\" />\n        <!--the name of the file is used below to match and score the proper response -->\n    </p>\n    <p><button type=\"submit\">Submit</button></p>\n</form>\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-javascript"]},"children":[{"type":"text","value":"\"v1/route7\": {\n  \"file\": \"example1.json\", // all GET|PUT|DELETE requests\n  \"post\": [\n    {\n      \"file\": \"example2.json\" // default response if none match below\n    },\n    {\n      \"file\": \"example3.json\",\n      \"params\": { // form submit where form fields a=1 and b=\"sample.pdf\"\n        \"a\": 1,\n        \"b\": \"sample.pdf\"\n      }\n    },\n    {\n      \"file\": \"example4.json\",\n      \"params\": { // form submit where form fields a=2 and b=\"another.name.jpg\"\n        \"a\": 2,\n        \"b\": \"another.name.jpg\"\n      }\n    }\n  ]\n}\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"async-responses"},"children":[{"type":"element","tagName":"a","properties":{"href":"#async-responses","ariaLabel":"async responses permalink","className":["anchor"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Async Responses"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-javascript"]},"children":[{"type":"text","value":"\"v1/route8\": {\n  \"file\": \"example1.json\",\n  \"get\": [\n    {\n      \"file\": \"example1.json\",\n      \"response\": [\n        {\n          // first GET request to /v1/route8\n          \"status\": 202,\n          \"file\": \"example1.json\"\n        },\n        {\n          // second GET request to /v1/route8\n          \"status\": 201,\n          \"file\": \"example2.json\"\n        }\n      ]\n    }\n  ]\n}\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"async-responses-with-repeat-option"},"children":[{"type":"element","tagName":"a","properties":{"href":"#async-responses-with-repeat-option","ariaLabel":"async responses with repeat option permalink","className":["anchor"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Async Responses with Repeat Option"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-javascript"]},"children":[{"type":"text","value":"\"v1/route10\": {\n    \"get\": [\n      {\n        \"file\": \"example1.json\",\n        \"response\": [\n          {\n            \"status\": 202,\n            \"file\": \"example1.json\",\n            \"repeat\": 3\n          },\n          {\n            \"status\": 202,\n            \"file\": \"example2.json\"\n          },\n          {\n            \"status\": 202,\n            \"file\": \"example3.json\",\n            \"repeat\": 4\n          },\n          {\n            \"status\": 201,\n            \"file\": \"example4.json\"\n          }\n        ]\n      }\n    ]\n  }\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"match-headers"},"children":[{"type":"element","tagName":"a","properties":{"href":"#match-headers","ariaLabel":"match headers permalink","className":["anchor"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Match Headers"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-javascript"]},"children":[{"type":"text","value":"\"v1/route11\": {\n  \"file\": \"example1.json\",\n  \"get\": [\n    {\n      \"file\": \"example2.json\",\n      \"headers\": { // GET with header key-value pair b:2\n        \"b\": \"2\"\n      }\n    },\n    {\n      \"file\": \"example3.json\",\n      \"headers\": { // GET with header key-value pair b:3\n        \"c\": \"3\"\n      }\n    }\n  ]\n}\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"url-redirect"},"children":[{"type":"element","tagName":"a","properties":{"href":"#url-redirect","ariaLabel":"url redirect permalink","className":["anchor"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Url Redirect"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-javascript"]},"children":[{"type":"text","value":"\"v1/route9\": {\n  \"url\": \"http://www.google.com\"\n}\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If you omit the port, or set it to "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"0"}]},{"type":"text","value":", "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"@availity/mock-server"}]},{"type":"text","value":" will let the OS assign a random open port.\nThis allows you to run multiple servers without keeping track of all ports being used. (see Example 2)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"acknowledgements"},"children":[{"type":"element","tagName":"a","properties":{"href":"#acknowledgements","ariaLabel":"acknowledgements permalink","className":["anchor"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Acknowledgements"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://github.com/gstroup/apimocker"},"children":[{"type":"text","value":"apimocker"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://github.com/typicode/json-server"},"children":[{"type":"text","value":"json-server"}]}]},{"type":"text","value":"\n"}]}],"data":{"quirksMode":false}}},"childMdx":null}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":"c72459fe-f95b-50ea-90a7-6e421f0a75c7","sidebarContents":[{"title":null,"depth":0,"pages":[{"title":"Introduction","path":"/","depth":1,"pages":false},{"title":"Quick Start","path":"/quick-start/","depth":1,"pages":false}]},{"title":"Tutorial","depth":0,"pages":[{"title":"Getting Started","path":"/tutorial/","depth":1,"pages":false},{"title":"Bring on the Mocks","path":"/tutorial/mocks/","depth":1,"pages":false},{"title":"Creating a Deployment","path":"/tutorial/deploy/","depth":1,"pages":false},{"title":"Dependency Management","path":"/tutorial/dependency-management/","depth":1,"pages":false}]},{"title":"Recipes","depth":0,"pages":[{"title":"Testing Libraries","path":"/recipes/testing-libraries/","depth":1,"pages":false},{"title":"Configuring Root Imports","path":"/recipes/root-imports/","depth":1,"pages":false},{"title":"Adding Typescript Support","path":"/recipes/typescript/","depth":1,"pages":false},{"title":"Setting up Logging","path":"/recipes/logging/","depth":1,"pages":false}]},{"title":"API Reference","depth":0,"pages":[{"title":"Reference: Workflow Configuration","path":"/reference/workflow-config/","depth":1,"pages":false},{"title":"Reference: CLI Commands","path":"/reference/commands/","depth":1,"pages":false},{"title":"Reference: Mock Server","path":"/reference/mock-server/","depth":1,"pages":false}]}],"gitType":"github","gitUrl":"https://github.com/availity/availity-workflow/tree/master/docs/source/reference/mock-server.md","baseUrl":"https://availity.github.io","navItems":[{"text":"Getting Started","value":"/availity-workflow","matchRegex":"^/availity-workflow"},{"text":"Components","value":"/availity-react","matchRegex":"^/availity-react"},{"text":"Resources","value":"/sdk-js","matchRegex":"^/sdk-js"}]}}}